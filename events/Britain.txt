add_namespace = britain 

# General Elections Ramsay Loses Election
country_event = {
    id = britain.1
    title = britain.1.t
    desc = britain.1.d
    picture = GFX_report_event_royal_parade
 
    fire_only_once = yes
 
    trigger = {
        original_tag = ENG
        has_government = democratic
        date > 1935.6.1
    }

    mean_time_to_happen = {
        days = 7
    }

    option = {
        name = britain.1.a
        retire_country_leader = yes
        create_country_leader = {
        	name = "Stanley Baldin"
        	desc = "POLITICS_NEVILLE_CHAMBERLAIN_DESC"
        	picture = "Portrait_Britain_Stanley_Baldwin.dds"
        	expire = "1965.1.1"
        	ideology = conservatism
			traits = {
				conservative_grandee
			}
        }
      }
}


# King dies
country_event = {
	id = britain.1
	title = britain.1.t
	desc = britain.1.d
	picture = GFX_report_event_europe_funeral
	
	fire_only_once = yes

	trigger = {
		tag = ENG
		date > 1936.01.19
		has_start_date < 1936.01.02
	}

	mean_time_to_happen = { days = 7 }

	immediate = {
		hidden_effect = {
			set_country_flag = ENG_king_died
#			remove_ideas = george_v
#			add_ideas = ENG_king_edward
			add_ideas = ENG_king_edward_penalty
		}		
	}
	
	option = {
		name = britain.1.a
		effect_tooltip = {
#			remove_ideas = george_v		
#			add_ideas = ENG_king_edward
#			add_ideas = ENG_king_edward_penalty
		}
	}
}

# King abdicates
country_event = {
	id = britain.2
	title = britain.2.t
	desc = britain.2.d
	picture = GFX_report_event_generic_sign_treaty2
	
	fire_only_once = yes

	trigger = {
		tag = ENG
		has_country_flag = ENG_king_died
		date > 1936.02.01
	}

	mean_time_to_happen = { days = 7 }

	immediate = {
#		hidden_effect = {
#			remove_ideas = ENG_king_edward
#			add_ideas = ENG_george_vi		
#		}
	}

	option = {
		name = britain.2.a
#		effect_tooltip = {
#			remove_ideas = ENG_king_edward
#			add_ideas = ENG_george_vi		
#		}
	}
}

# Stanley Baldwin Resigns
country_event = {
    id = britain.22
    title = britain.22.t
    desc = britain.22.d
    picture = GFX_report_event_royal_parade
 
    fire_only_once = yes
 
    trigger = {
        original_tag = ENG
        has_government = democratic
        has_idea = ENG_george_vi
        date > 1937.5.27
        has_start_date < 1936.01.02
        NOT = { has_country_flag = baldwin_resigned }
    }

    mean_time_to_happen = {
        days = 7
    }

    option = {
        name = britain.22.a
        retire_country_leader = yes
        create_country_leader = {
        	name = "Neville Chamberlain"
        	desc = "POLITICS_NEVILLE_CHAMBERLAIN_DESC"
        	picture = "Portrait_Britain_Neville_Chamberlain.dds"
        	expire = "1965.1.1"
        	ideology = conservatism
        	traits = {
        		chamberlain_appeaser rearmer
        	}
        }
        set_country_flag = baldwin_resigned
      }
}

# Chamberlain Resigns
country_event = {
	id = britain.9
	title = britain.9.t
	desc = britain.9.d
	picture = GFX_report_event_chamberlain

	fire_only_once = yes

	trigger = {
		tag = ENG
		has_war = yes
		has_government = democratic
		NOT = {
			has_completed_focus = uk_scandinavian_focus
		}
		POL = { has_capitulated = yes }
		OR = {
			has_global_flag = fall_of_france
			FRA = { surrender_progress > 0.1 }
			HOL = { surrender_progress > 0.1 }
			BEL = { surrender_progress > 0.1 }
			LUX = { surrender_progress > 0.1 }
			DEN = { surrender_progress > 0.1 }
			NOR = { surrender_progress > 0.1 }
			AND = {
				110 = { is_controlled_by = GER }
				NOT = { is_in_faction_with = GER }
			}
		}
		NOT = { has_country_flag = chamberlain_died }
		has_country_leader = {
			name = "Neville Chamberlain"
			ruling_only = yes
		}
	}

	mean_time_to_happen = {
		days = 2
	}

	immediate = { set_country_flag = chamberlain_resigned }
	
	option = {
		name = britain.9.a
		create_country_leader = {
			name = "Winston Churchill"
			desc = "POLITICS_WINSTON_CHURCHILL_DESC"
			picture = "Portrait_Britain_Winston_Churchill.dds"
			expire = "1965.1.1"
			ideology = conservatism
			traits = {
				british_bulldog
			}
		}
		add_stability = 0.1
		add_war_support = 0.1

	}
}

# Shadow Scheme Factories
country_event = {
    id = britain.24
    title = britain.24.t
    desc = britain.24.d
    picture = GFX_report_event_generic_factory
 
    fire_only_once = yes
 
    trigger = {
        original_tag = ENG
        has_completed_focus = shadow_scheme_focus
        has_war = yes
    }

    mean_time_to_happen = {
        days = 7
    }

    option = {
        name = britain.24.a
        random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
				free_building_slots = {
					building = arms_factory
					size > 1
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
			set_state_flag = shadow_scheme_2AF
		}
		random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
				free_building_slots = {
					building = arms_factory
					size > 1
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
			set_state_flag = shadow_scheme_2AF
		}
    }
}